<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="I langt de fleste tilfælde sker træning af AI modeller ved at minimere en tabsfunktion. Hvad tabsfunktioner er for en størrelse, skal du lære om i dette forløb.">

<title>Tabsfunktioner – AI MAT - matematikken bag magien</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../logo/SVG/Bomaerke_05_AIMAT_2024.svg" rel="icon" type="image/svg+xml">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logo/PNG/Logo_multi_AIMAT_RGB_2024.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../undervisningsforlob.html"> 
<span class="menu-text">Undervisningsforløb</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../materialer.html"> 
<span class="menu-text">Materialer</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../sro.html"> 
<span class="menu-text">SRO</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../srp.html"> 
<span class="menu-text">SRP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../apps.html"> 
<span class="menu-text">Apps</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../referencer.html"> 
<span class="menu-text">Referencer</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">Om os</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Indhold</h2>
   
  <ul>
  <li><a href="#formål" id="toc-formål" class="nav-link active" data-scroll-target="#formål">Formål</a></li>
  <li><a href="#under-udarbejdelse" id="toc-under-udarbejdelse" class="nav-link" data-scroll-target="#under-udarbejdelse">Under udarbejdelse!</a></li>
  <li><a href="#tabsfunktion-targetværdier-og-aktiveringsfunktioner" id="toc-tabsfunktion-targetværdier-og-aktiveringsfunktioner" class="nav-link" data-scroll-target="#tabsfunktion-targetværdier-og-aktiveringsfunktioner">Tabsfunktion, targetværdier og aktiveringsfunktioner</a></li>
  <li><a href="#sigmoid" id="toc-sigmoid" class="nav-link" data-scroll-target="#sigmoid">Sigmoid</a></li>
  <li><a href="#softsign" id="toc-softsign" class="nav-link" data-scroll-target="#softsign">Softsign</a></li>
  <li><a href="#hyperbolsk-tangens" id="toc-hyperbolsk-tangens" class="nav-link" data-scroll-target="#hyperbolsk-tangens">Hyperbolsk tangens</a></li>
  <li><a href="#relu" id="toc-relu" class="nav-link" data-scroll-target="#relu">ReLU</a></li>
  <li><a href="#overblik" id="toc-overblik" class="nav-link" data-scroll-target="#overblik">Overblik</a></li>
  <li><a href="#sec-videre" id="toc-sec-videre" class="nav-link" data-scroll-target="#sec-videre">Videre læsning</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Tabsfunktioner</h1>
  <div class="quarto-categories">
    <div class="quarto-category">A-niveau</div>
    <div class="quarto-category">Kort</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="callout callout-style-simple callout-caution no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Forudsætninger og tidsforbrug
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Forløbet kræver kendskab til:</p>
<ul>
<li>Differentialregning herunder differentiation af sammensatte funktioner.</li>
</ul>
<p><strong>Tidsforbrug:</strong> Ca. 1-2 x 90 minutter.</p>
</div>
</div>
</div>
<section id="formål" class="level3 purpose">
<h3 class="anchored" data-anchor-id="formål">Formål</h3>
<p>I langt de fleste tilfælde sker træning af AI modeller ved at minimere en tabsfunktion. Lidt løst sagt kan man sige, at en tabsfunktion måler, hvor god en AI model er til at forudsige det, vi gerne vil have den til at sige noget om.</p>
<p>I dette forløb kommer du til at lære noget om, hvordan tabsfunktioner kan se ud og hvad træningsdata er for en størrelse.</p>
</section>
<section id="under-udarbejdelse" class="level2">
<h2 class="anchored" data-anchor-id="under-udarbejdelse">Under udarbejdelse!</h2>
<p>Husk henvisning til forløb om aktiveringsfunktioner</p>
</section>
<section id="tabsfunktion-targetværdier-og-aktiveringsfunktioner" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="tabsfunktion-targetværdier-og-aktiveringsfunktioner">Tabsfunktion, targetværdier og aktiveringsfunktioner</h2>
<p>På engelsk bliver tabsfunktioner også kaldet for <em>error functions</em>. Overordnet set vil vi gerne have en AI model med så lille et tab eller så lille en fejl som muligt. Derfor skal tabsfunktionen minimeres.</p>
<p>Når tabsfunktionen skal minimeres bruger man såkaldte <strong>træningsdata</strong>. Det betyder, at man i træningsdata har givet en række <strong>inputværdier</strong> <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> på baggrund af hvilke, man ønsker at prædiktere en såkaldt <strong>targetværdi</strong> <span class="math inline">\(t\)</span>, som også er en del af træningsdata.</p>
<p>Lad os tage et eksempel fra den virkelige verden. Vi vil gerne på baggrund af en blodprøve kunne prædiktere om en patient har kræft eller ej. Her kan inputværdierne <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> være forskellige ting, man måler i blodet (spørg en biologilærer om hvad det kunne være). Targetværdien <span class="math inline">\(t\)</span> kan antage to værdier:</p>
<p><span class="math display">\[
t=
\begin{cases}
1 &amp; \textrm{hvis patienten har kræft} \\
0 &amp; \textrm{hvis patienten ikke har kræft} \\
\end{cases}
\]</span> Man kunne også have valgt: <span class="math display">\[
t=
\begin{cases}
1 &amp; \textrm{hvis patienten har kræft} \\
-1 &amp; \textrm{hvis patienten ikke har kræft} \\
\end{cases}
\]</span> Eller noget helt tredje! Det kommer vi tilbage til senere. Lad os for nu sige at vi vælger den første mulighed, hvor <span class="math inline">\(t \in \{0,1\}\)</span>.</p>
<p>At bestemme, om targetværdien er <span class="math inline">\(0\)</span> eller <span class="math inline">\(1\)</span>, beror på faglig ekspertise indenfor det genstandsfelt, hvor AI modellen skal anvendes. I eksemplet med kræft vil det for eksempel være baseret på forskellige diagnostiske tests, som en læge kan bruge til at vurdere, om patienten har kræft<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>.</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Måske er disse tests først taget et stykke tid efter blodprøven, fordi det ikke er muligt at stille diagnose på tidspunktet for blodprøven. I så fald kan man måske være heldig at få udviklet en AI model, som kan prædiktere kræft <em>tidligere</em> end med gængse metoder.</p></div></div><p>** Lille data eksempel her med én inputværdi **</p>
<p>Man "fodrer" så sin AI algoritme med en hel masse inputværdier med tilhørende targetværdier og finder den AI model, som giver den mindste værdi af tabsfunktionen. Det kaldes for <em>supervised learning</em>.</p>
<p>I AI modellen vil det typisk være sådan, at de forskellige inputværdier vægtes med en række vægte <span class="math inline">\(w_0, w_1, \dots, w_p\)</span>. Når AI modellen trænes, er det dybest set bare disse vægte, man "skruer" på, sådan at modellen bliver god til at prædiktere det, den er trænet på. For store kunstige neurale netværk – for eksempel de store sprogmodeller – taler vi om milliarder af vægte!</p>
<p>Vi kan altså tænke på en AI model, som en funktion <span class="math inline">\(f\)</span>, der afhænger af vægtene <span class="math inline">\(w_0, w_1, \dots, w_p\)</span>:</p>
<p><span class="math display">\[
f(w_0, w_1, \dots, w_p).
\]</span> Funktionen afhænger selvfølgelig også af hele træningsdatasættet, men eftersom det er vægtene, man skal justere, alt imens træningsdata er fastlagt, vil vi blot tænke på <span class="math inline">\(f\)</span> som en funktion af vægtene.</p>
<p>Vi forestiller os nu, at vi har bestemt minimum for tabsfunktionen og dermed fundet de værdier af vægtene, som minimerer tabsfunktionen. Det er nu disse værdier, som giver os vores endelige AI model. Spørgsmålet er nu, hvordan den bruges til prædiktion. Det kommer her:</p>
<p>Ofte vil værdimængden for <span class="math inline">\(f\)</span> være <span class="math inline">\((0,1)\)</span>. Det betyder, at vi kan tolke værdien af <span class="math inline">\(f\)</span> som en sandsynlighed. Vi forestiller os, at vi får et nyt sæt af inputværdier – for eksempel målingerne fra en ny blodprøve, og vi vil gerne finde ud af, om patienten har kræft eller ej. Disse værdier "sendes" nu ind i funktionen <span class="math inline">\(f\)</span> og ud kommer en ouputværdi, som vi vil kalde for <span class="math inline">\(o\)</span>. Værdien af <span class="math inline">\(o\)</span> betragtes nu som sandsynligheden for, at den rigtige targetværdi er <span class="math inline">\(1\)</span>. Det kunne for eksempel være sådan her:</p>
<p><span class="math display">\[
\textrm{prædiktion}=
\begin{cases}
\textrm{patienten har kræft} &amp; \textrm{hvis } o \geq 0.5 \\
\textrm{patienten har ikke kræft} &amp; \textrm{hvis } o &lt; 0.5 \\
\end{cases}
\]</span></p>
<p>Men hvis det skal give mening, så kræver det altså, at vi har fundet de værdier af vægtene, som gør, at denne prædiktion rent faktisk bliver god.</p>
<p>Vi har hele tiden sagt, at det gør vi ved at minimere tabsfunktionen, men det kræver jo, at vi har en tabsfunktion. Ofte kan man bruge denne <strong>tabsfunktion</strong>:</p>
<p><span id="eq-tabsfunktion"><span class="math display">\[
E = \frac{1}{2} \sum \left (t-o \right)^2,
\tag{1}\]</span></span></p>
<!-- 
$$
\begin{aligned}
E(w_0, w_1, &\dots, w_n) \\ &= \frac{1}{2} \sum_{m=1}^{M} \left (t_m-
f(w_0 + w_1 \cdot x_{m,1} + \cdots + w_n \cdot x_{m,n}) \right)^2,
\end{aligned}
$$
-->
<p>hvor der summeres over alle træningsdata. For det første kan vi se, at <span class="math inline">\(E \geq 0\)</span>, fordi der er tale om en kvadreret sum. For det andet kan vi se, at hvis AI modellen er god, så vil den beregnede sandsynlighed <span class="math inline">\(o\)</span>, for at patienten har kræft være tæt på <span class="math inline">\(1\)</span>, når <span class="math inline">\(t=1\)</span>, og <span class="math inline">\(o\)</span> vil være tæt på <span class="math inline">\(0\)</span>, når <span class="math inline">\(t=0\)</span>. Det betyder, at de kvadrerede forskelle <span class="math inline">\((t-o)^2\)</span> i det tilfælde vil være små, og dermed vil tabsfunktionen også være lille. Altså lever <span class="math inline">\(E\)</span> op til de krav, vi stiller til en tabsfunktion.</p>
<p>Outputværdien <span class="math inline">\(o\)</span> beregnes ofte som</p>
<p><span class="math display">\[
o = f(w_0+w_1x_1+w_2x_2+\cdots+w_nx_n),
\]</span></p>
<p>hvor <span class="math inline">\(f\)</span> er den funktion, som vi kalder for en <strong>aktiveringsfunktion</strong>. For perceptroner og simple neurale netværk svarer <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> direkte til inputværdierne, som AI modellen i sidste ende skal virke på. I et kunstig neuralt netværk er det mere kompliceret, men ovenstående er korrekt, hvis man tænker på <span class="math inline">\(x_1, x_2, \dots, x_n\)</span>, som de værdier neuronerne i det sidste skjulte lag sender videre til outputlaget.</p>
<p>Hvis tabsfunktionen i (<a href="#eq-tabsfunktion" class="quarto-xref">1</a>) skal give mening, så kan vi nu se, at hvis targetværdien <span class="math inline">\(t \in \{0,1\}\)</span>, så bør værdimængden for <span class="math inline">\(f\)</span> tilsvarende være <span class="math inline">\((0,1)\)</span>. Mens hvis <span class="math inline">\(t \in \{-1,1\}\)</span>, så bør<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> værdimængden for <span class="math inline">\(f\)</span> tilsvarende være <span class="math inline">\((-1,1)\)</span>. Forestiller man sig, at targetværdien er huspriser – det vil sige, at <span class="math inline">\(t \in (0,\infty)\)</span> – ja så vil det give mening, at også outputværdien <span class="math inline">\(o \in (0,\infty)\)</span>. Det vigtige er altså, at værdimængden for aktiveringsfunktionen er på samme skala som targetværdierne.</p>
<div class="no-row-height column-margin column-container"><div id="fn2"><p><sup>2</sup>&nbsp;Når en perceptron trænes ved hjælp af Adaline, er dette faktisk ikke tilfældet. Her er targetværdien <span class="math inline">\(t \in \{-1,1\}\)</span>, mens outputværdien <span class="math inline">\(o \in \mathbb{R}\)</span>. Det kan give nogle problemer, som er beskrevet i noten om <a href="../simple_neurale_net/simple_neurale_net.qmd">simple neurale netværk</a>.</p></div></div><p>Når AI modellen trænes ved at finde minimum for tabsfunktionen, så gøres det ofte ved hjælp af <a href="../materialer/gradientnedstigning/gradientnedstigning.html">gradientnedstigning</a> – men den konkrete metode er ikke så vigtig lige nu. Det vigtige er at forstå, at når man skal finde minimum for en funktion, så har man brug for at kunne differentiere. Derfor er det vigtigt at kunne differentiere den anvendte aktiveringsfunktion <span class="math inline">\(f\)</span>.</p>
<p>Desuden viser det sig vigtigt, at det ikke er alt for beregningsmæssigt tungt at beregne funktionsværdierne <span class="math inline">\(f(x)\)</span> og <span class="math inline">\(f'(x)\)</span>. Det skal simpelthen gøres så mange gange – derfor dur det ikke, at det tager for lang tid. Det er således ønskværdigt, hvis en aktiveringsfunktions afledede funktion <span class="math inline">\(f'(x)\)</span> kan beregnes forholdvis simpelt ved hjælp af <span class="math inline">\(f(x)\)</span>. Det betyder nemlig, at hvis vi allerede har udregnet <span class="math inline">\(f(x)\)</span>, så kræver det ikke ret meget også at udregne <span class="math inline">\(f'(x)\)</span>.</p>
<p>I det nedenstående vil vi nu behandle en række af de mest anvendte aktiveringsfunktioner. Vi finder deres afledede funktioner, og vi vil se, hvordan de afledede funktioner alle kan udtrykkes ved hjælp af den oprindelig aktiveringsfunktion.</p>
</section>
<section id="sigmoid" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sigmoid">Sigmoid</h2>
<p><strong>Sigmoid</strong>-funktionen har forskrift</p>
<p><span class="math display">\[
f(x)=\frac{1}{1+e^{-x}}.
\]</span></p>
<p>Grafen for Sigmoid-funktionen ses i <a href="#fig-sigmoid" class="quarto-xref">figur&nbsp;1</a>.</p>
<div id="fig-sigmoid" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-sigmoid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="aktiveringsfunktioner/sigmoid.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-sigmoid-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;1: Grafen for sigmoid-funktionen.
</figcaption>
</figure>
</div>
<p>Det ser på <a href="#fig-sigmoid" class="quarto-xref">figur&nbsp;1</a> ud som om, at værdimængden for <span class="math inline">\(f\)</span> er <span class="math inline">\((0,1)\)</span>. Hvis du vil have et lidt bedre argument for det, kan du læse i boksen herunder.</p>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Argument for værdimængden for <span class="math inline">\(f\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vi vil her argumentere for, at værdimængden for <span class="math inline">\(f\)</span> er <span class="math inline">\((0,1)\)</span>.</p>
<p>På figuren herunder ses grafen for <span class="math inline">\(e^{-x}\)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="aktiveringsfunktioner/exp_minusx.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>Da <span class="math inline">\(e^{-x}\)</span> er en aftagende eksponentialfunktion vil</p>
<p><span class="math display">\[
e^{-x} \rightarrow 0 \quad \textrm{når} \quad x \rightarrow \infty
\]</span> og</p>
<p><span class="math display">\[
e^{-x} \rightarrow \infty \quad \textrm{når} \quad x \rightarrow -\infty.
\]</span></p>
<p>Det betyder, at <span class="math display">\[
\frac{1}{1+e^{-x}} \rightarrow 1 \quad \textrm{når} \quad x \rightarrow \infty
\]</span></p>
<p>og</p>
<p><span class="math display">\[
\frac{1}{1+e^{-x}} \rightarrow 0 \quad \textrm{når} \quad x \rightarrow -\infty.
\]</span></p>
<p>Det vil sige, at værdimængden for <span class="math inline">\(f\)</span> er <span class="math inline">\((0,1)\)</span>.</p>
</div>
</div>
</div>
<p>De følgende opgaver gå ud på at vise, at</p>
<p><span class="math display">\[
f'(x)= \frac{e^{-x}}{(1+e^{-x})^2}
\]</span> og at <span class="math inline">\(f'(x)\)</span> kan udtrykkes ved hjælp af <span class="math inline">\(f(x)\)</span> på denne måde</p>
<p><span class="math display">\[
f'(x)= f(x)\cdot (1-f(x)).
\]</span></p>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opgave 1: Differentiation af sigmoid-funktionen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vi skal vise, at <span class="math display">\[
f'(x)= \frac{e^{-x}}{(1+e^{-x})^2}.
\]</span> Vi skal starte med at se, at vi kan tænke på sigmoid-funktionen <span class="math display">\[
f(x)=\frac{1}{1+e^{-x}}.
\]</span> som en "dobbelt sammensat" funktion. Sigmoid-funktionen består nemlig af en brøk på formen <span class="math inline">\(\frac{1}{x}\)</span> og af eksponentialfunktionen <span class="math inline">\(e^{-x}\)</span>.</p>
<p>Derfor skal du:</p>
<ul>
<li><p>Start med at opskrive differentialkvotienten for <span class="math display">\[\frac{1}{x} \quad \textrm{og} \quad e^{-x}.\]</span></p></li>
<li><p>Brug ovenstående til at vise, at <span class="math display">\[
f'(x)= \frac{e^{-x}}{(1+e^{-x})^2}.
\]</span></p></li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opgave 2: Differentiation af sigmoid-funktionen – omskrivning af <span class="math inline">\(f'(x)\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vi skal nu vise, at <span class="math display">\[
f'(x)= f(x)\cdot (1-f(x)).
\]</span> når <span class="math display">\[
f(x)=\frac{1}{1+e^{-x}}.
\]</span></p>
<ul>
<li><p>Start med at udregne <span class="math display">\[1-f(x).\]</span> <em>Hint! Sæt på fælles brøkstreg ved at skrive <span class="math inline">\(1\)</span> som <span class="math inline">\(\frac{1+e^{-x}}{1+e^{-x}}\)</span></em>.</p></li>
<li><p>Vis nu at <span class="math display">\[
f(x)\cdot (1-f(x)) = \frac{e^{-x}}{(1+e^{-x})^2}=f'(x).
\]</span> <em>Husk, at man ganger to brøker med hinanden ved at gange tæller med tæller og nævner med nævner.</em></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="softsign" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="softsign">Softsign</h2>
<p><strong>Softsign</strong>-funktionen har forskrift</p>
<p><span class="math display">\[
f(x)=\frac{x}{1+|x|}.
\]</span> Husk på at <span class="math inline">\(|x|\)</span> betyder den numeriske værdi af <span class="math inline">\(x\)</span>. Det vil sige</p>
<p><span id="eq-numerisk_x"><span class="math display">\[
|x| =
\begin{cases}
x &amp; \textrm{hvis } x \geq 0 \\
-x &amp; \textrm{hvis } x &lt; 0 \\
\end{cases}
\tag{2}\]</span></span> Det betyder for eksempel at <span class="math inline">\(|7|=7\)</span> og <span class="math inline">\(|-7|=7\)</span>. Grafen for <span class="math inline">\(|x|\)</span> ses i <a href="#fig-numerisk_x" class="quarto-xref">figur&nbsp;2</a>.</p>
<div id="fig-numerisk_x" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-numerisk_x-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="aktiveringsfunktioner/numerisk_x.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-numerisk_x-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;2: Grafen for <span class="math inline">\(|x|\)</span>.
</figcaption>
</figure>
</div>
<p>Grafen for softsign-funktionen <span class="math inline">\(f\)</span> ses i <a href="#fig-softsign" class="quarto-xref">figur&nbsp;3</a>.</p>
<div id="fig-softsign" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-softsign-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="aktiveringsfunktioner/softsign.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-softsign-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;3: Grafen for softsign-funktionen.
</figcaption>
</figure>
</div>
<p>Da den numeriske værdi af <span class="math inline">\(x\)</span> indgår i forskriften, kunne man få den tanke, at <span class="math inline">\(f\)</span> måske hverken er kontinuert eller differentiabel i <span class="math inline">\(0\)</span>. For eksempel kan man i <a href="#fig-numerisk_x" class="quarto-xref">figur&nbsp;2</a> se, at <span class="math inline">\(|x|\)</span> ikke er differentiabel i <span class="math inline">\(0\)</span>.</p>
<p>Men bruger vi definitionen på <span class="math inline">\(|x|\)</span>, får vi</p>
<p><span id="eq-def_softsign"><span class="math display">\[
f(x) =
\begin{cases}
\frac{x}{1+x} &amp; \textrm{hvis } x \geq 0 \\
\\
\frac{x}{1-x} &amp; \textrm{hvis } x &lt; 0 \\
\end{cases}
\tag{3}\]</span></span></p>
<p>Ud fra denne omskrivning kan man vise, at <span class="math inline">\(f\)</span> rent faktisk er kontinuert i <span class="math inline">\(0\)</span>. Det kan du læse mere om i boksen herunder, hvis du har lyst.</p>
<p>På <a href="#fig-softsign" class="quarto-xref">figur&nbsp;3</a> ser det ud som om, at værdimængden for <span class="math inline">\(f\)</span> er <span class="math inline">\((-1,1)\)</span> (også det argumenterer vi for i boksen). Det vil sige, at hvis vi skal bruge softsign-funktionen som aktiveringsfunktion, så skal targetværdierne være <span class="math inline">\(\pm 1\)</span>.</p>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Argument for kontinuitet i <span class="math inline">\(0\)</span> og værdimængde for <span class="math inline">\(f\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Lad os først argumentere for, at <span class="math inline">\(f\)</span> er kontinuert i <span class="math inline">\(0\)</span>. For det første ser vi, at <span class="math inline">\(f(0)=0/(1+0)=0\)</span> og <span class="math inline">\(f(x) \rightarrow 0\)</span>, når <span class="math inline">\(x\)</span> nærmer sig <span class="math inline">\(0\)</span> både fra højre og venstre. Det betyder, at <span class="math inline">\(f\)</span> <em>er</em> kontinuert i <span class="math inline">\(0\)</span>.</p>
<p>Vi ser også, at for store positive værdier af <span class="math inline">\(x\)</span> vil <span class="math display">\[
f(x)= \frac{x}{1+x} \approx \frac{x}{x}=1
\]</span> og for store negative værdier af <span class="math inline">\(x\)</span> vil <span class="math display">\[
f(x)= \frac{x}{1-x} \approx \frac{x}{-x}=-1
\]</span> Det betyder, at <span class="math display">\[
f(x) \rightarrow 1 \quad \textrm{når} \quad x \rightarrow \infty
\]</span> og</p>
<p><span class="math display">\[
f(x) \rightarrow -1 \quad \textrm{når} \quad x \rightarrow - \infty
\]</span> hvilket stemmer fint overens med <a href="#fig-softsign" class="quarto-xref">figur&nbsp;3</a>.</p>
</div>
</div>
</div>
<p>I nedenstående opgaver skal vi vise, at</p>
<p><span id="eq-softsign_diff1"><span class="math display">\[
f'(x)=\frac{1}{\left ( 1+ |x| \right )^2}
\tag{4}\]</span></span></p>
<p>og at den afledte kan findes ved hjælp af funktionsværdien selv på denne måde</p>
<p><span id="eq-softsign_diff2"><span class="math display">\[
f'(x)=(1-|f(x)|)^2.
\tag{5}\]</span></span></p>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opgave 1: Differentiation af softsign-funktionen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For at vise at <span class="math display">\[
f'(x)=\frac{1}{\left ( 1+ |x| \right )^2}
\]</span> vil vi starte med at bruge en brøkregneregel til at omskrive funktionsudtrykket i (<a href="#eq-def_softsign" class="quarto-xref">3</a>):</p>
<p><span id="eq-def_softsign2"><span class="math display">\[
f(x) =
\begin{cases}
x \cdot \frac{1}{1+x} &amp; \textrm{hvis } x \geq 0 \\
\\
x \cdot \frac{1}{1-x} &amp; \textrm{hvis } x &lt; 0 \\
\end{cases}
\tag{6}\]</span></span></p>
<ul>
<li><p>Antag først, at <span class="math inline">\(x &gt; 0\)</span> og vis ved hjælp af produktreglen for differentiation, at <span class="math display">\[
f'(x)=\frac{1}{(1+x)^2} = \frac{1}{(1+|x|)^2}.
\]</span> <em>OBS! Du får på et tidspunkt brug for at sætte på fælles brøkstreg – fællesnævneren er her <span class="math inline">\((1+x)^2\)</span>.</em></p></li>
<li><p>Antag nu at <span class="math inline">\(x&lt;0\)</span> og vis igen ved hjælp af produktreglen for differentiation at <span class="math display">\[
f'(x)=\frac{1}{(1-x)^2} = \frac{1}{(1+|x|)^2}.
\]</span></p></li>
<li><p>Tegn grafen for <span class="math inline">\(f'\)</span>. Synes du, at det ser ud som om, at <span class="math inline">\(f'\)</span> er differentiabel?</p></li>
</ul>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opgave 2: Differentiation af softsign-funktionen – omskrivning af <span class="math inline">\(f'(x)\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vi vil nu vise, at den afledede softsign-funktion kan udtrykkes ved hjælp af softsign-funktionen selv: <span class="math display">\[
f'(x)=(1-|f(x)|)^2.
\]</span></p>
<ul>
<li><p>Start med at overvise dig selv om, at <span class="math display">\[
|f(x)|=f(|x|)
\]</span> ved at bruge definitionen i (<a href="#eq-numerisk_x" class="quarto-xref">2</a>).</p></li>
<li><p>Vis at <span class="math display">\[
(1-f(|x|))^2 = \frac{1}{(1+|x|)^2}=f'(x)
\]</span> <em>Hint! Skriv <span class="math inline">\(1\)</span> som <span class="math inline">\(\frac{1+|x|}{1+|x|}\)</span>.</em></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="hyperbolsk-tangens" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="hyperbolsk-tangens">Hyperbolsk tangens</h2>
<p>Funktionen hyperbolsk tangens, <span class="math inline">\(\tanh\)</span>, har forskrift <span class="math display">\[
\tanh(x) = \frac{e^x-e^{-x}}{e^x+e^{-x}}
\]</span></p>
<p>Grafen for hyperbolsk tangens er vist i <a href="#fig-tanh" class="quarto-xref">figur&nbsp;4</a>.</p>
<div id="fig-tanh" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-tanh-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="aktiveringsfunktioner/tanh.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-tanh-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;4: Grafen for hyperbolsk tangens.
</figcaption>
</figure>
</div>
<p>Ifølge figuren ser det ud til, at <span class="math inline">\(Vm(f)=(-1,1)\)</span>. Det argumenterer vi nærmere for i boksen herunder.</p>
<div class="callout callout-style-simple callout-tip no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Argument for værdimængden for <span class="math inline">\(\tanh\)</span>
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>På figuren herunder ses grafen for den voksende eksponentialfunktion <span class="math inline">\(e^x\)</span> (blå) og for den aftagende eksponentialfunktion <span class="math inline">\(e^{-x}\)</span> (grøn).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="aktiveringsfunktioner/exp_plusminusx.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%"></p>
</figure>
</div>
<p>Her ses det, at for store positive værdier af <span class="math inline">\(x\)</span> er <span class="math inline">\(e^{-x} \approx 0\)</span>. Det vil sige, at for store positive værdier af <span class="math inline">\(x\)</span> er</p>
<p><span class="math display">\[
\tanh(x)=\frac{e^x-e^{-x}}{e^x+e^{-x}} \approx \frac{e^x-0}{e^x+0}=\frac{e^x}{e^x}=1.
\]</span></p>
<p>Omvendt gælder for store negative værdier af <span class="math inline">\(x\)</span> er <span class="math inline">\(e^x \approx 0\)</span>. Det vil sige, at for store negative værdier af <span class="math inline">\(x\)</span> er</p>
<p><span class="math display">\[
\tanh(x)=\frac{e^x-e^{-x}}{e^x+e^{-x}} \approx \frac{0-e^{-x}}{0+e^{-x}}=\frac{-e^{-x}}{e^{-x}}=-1.
\]</span> Det betyder, at <span class="math display">\[
\tanh(x) \rightarrow 1 \quad \textrm{når} \quad x \rightarrow \infty
\]</span> og</p>
<p><span class="math display">\[
\tanh(x) \rightarrow -1 \quad \textrm{når} \quad x \rightarrow - \infty
\]</span> hvilket stemmer fint overens med <a href="#fig-tanh" class="quarto-xref">figur&nbsp;4</a>.</p>
</div>
</div>
</div>
<p>I nedenstående opgave skal vi vise, at <span class="math inline">\(\tanh\)</span> differentieret er</p>
<p><span class="math display">\[
\tanh'(x)=1-\left ( \tanh(x) \right )^2.
\]</span></p>
<p>For at bevise det er det nemmeste at bruge kvotientreglen for differentiation. Måske har du hørt om den – måske har du ikke. Men her kommer den:</p>
<div class="highlight">
<p><strong>Kvotientreglen for differentiation </strong></p>
<p><span class="math display">\[
\left ( \frac{f(x)}{g(x)}\right)' = \frac{f'(x) \cdot g(x)-f(x) \cdot g'(x)}{(g(x))^2}, \quad g(x) \neq 0
\]</span></p>
</div>
<div class="callout callout-style-simple callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Opgave 1: Differentiation af softsign-funktionen og omskrivning
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Vi skal vise, at tangens hyperbolsk <span class="math display">\[
\tanh(x)=\frac{e^x-e^{-x}}{e^x+e^{-x}}
\]</span> differentieret er <span class="math display">\[
\tanh'(x)=1-\left ( \tanh(x) \right )^2.
\]</span></p>
<ul>
<li><p>Brug kvotientreglen for differentiation til at vise, at <span class="math display">\[
\tanh'(x)= 1 - \left (\frac{e^x-e^{-x}}{e^x+e^{-x}} \right)^2
\]</span> <em>Hint! På et tidspunkt får du brug for brøkregnereglen <span class="math inline">\(\frac{a+b}{c}=\frac{a}{c}+\frac{b}{c}\)</span>.</em></p></li>
<li><p>Brug definitionen af tangens hyperbolsk til at indse at <span class="math display">\[
\tanh'(x)=1-\left ( \tanh(x) \right )^2.
\]</span></p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="relu" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="relu">ReLU</h2>
<p>Aktiveringsfunktionen <strong>ReLU</strong> som står for <strong>Reflected Linear Unit</strong> har forskrift</p>
<p><span class="math display">\[
f(x) =
\begin{cases}
x &amp; \textrm{hvis } x &gt; 0 \\
0 &amp; \textrm{hvis } x \leq 0 \\
\end{cases}
\]</span> og grafen for ReLU-funktionen ses i <a href="#fig-ReLU" class="quarto-xref">figur&nbsp;5</a>.</p>
<div id="fig-ReLU" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-ReLU-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="aktiveringsfunktioner/ReLU.png" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-ReLU-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;5: Grafen for ReLU-funktionen.
</figcaption>
</figure>
</div>
<p>Værdimængden for ReLU-funktionen er <span class="math inline">\([0, \infty)\)</span>.</p>
<p>Det er ret tydeligt, at ReLU-funktionen ikke er differentiabel i <span class="math inline">\(0\)</span>. Men hvis vi definerer, at <span class="math inline">\(f'(0)\)</span> skal være <span class="math inline">\(0\)</span> så ses det nemt, at</p>
<p><span class="math display">\[
f'(x) =
\begin{cases}
1 &amp; \textrm{hvis } x &gt; 0 \\
0 &amp; \textrm{hvis } x \leq 0 \\
\end{cases}.
\]</span></p>
<p>ReLU-funktionen adskiller dig fra de andre aktiveringsfunktioner ved, at værdimængden er ubegrænset. Hvis man ønsker at bruge aktiveringsfunktionen til at modellere en sandsynlighed, som beskrevet tidligere, så dur det selvfølgelig ikke. Men i praktisk viser ReLU-funktionen sig at være utrolig anvendelig som aktiveringsfunktion i de skjult lag i kunstige neurale netværk. For det første kan nogle af de andre aktiveringsfunktioner resulterer i det, vi i afsnittet om <a href="../neurale_net/neurale_net.qmd#valg-af-tabsfunktion">valg af tabsfunktion</a> i noten om kunstige neurale netværk, kalder for <em>slow learning</em>. Det betyder kort sagt, at det går for langsomt med at finde minimum for tabsfunktionen. Dét problem har ReLU-funktionen ikke. For det andet er det meget hurtigt og nemt at udregne både ReLU-funktionen selv og også dens afledede. Det er for eksempel til sammenligning beregningsmæssigt tungere, at udregne sigmoid-funktionen og dennes afledede. Hvis man har et netværk med millioner af neuroner, så er denne beregningsmæssige forskel ikke uvæsentlig.</p>
<p>For yderligere læsning henviser vi til referencerne i afsnittet <a href="../undervisningsforloeb/aktiveringsfunktioner.html#sec-videre">videre læsning</a>.</p>
</section>
<section id="overblik" class="level2">
<h2 class="anchored" data-anchor-id="overblik">Overblik</h2>
<p>I tabellen herunder finder du et overblik over de forskellige aktiveringsfunktioner, som vi har behandlet ovenfor.</p>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Navn</th>
<th style="text-align: center;"><span class="math inline">\(f(x)\)</span></th>
<th style="text-align: center;">Graf</th>
<th style="text-align: center;"><span class="math inline">\(Vm(f)\)</span></th>
<th style="text-align: center;"><span class="math inline">\(f'(x)\)</span></th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Sigmoid</td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{1+e^{-x}}\)</span></td>
<td style="text-align: center;"><img src="aktiveringsfunktioner/sigmoid.png" class="img-fluid"></td>
<td style="text-align: center;"><span class="math inline">\((0,1)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(f(x)\cdot(1-f(x))\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">Softsign</td>
<td style="text-align: center;"><span class="math inline">\(\frac{x}{1+|x|}\)</span></td>
<td style="text-align: center;"><img src="aktiveringsfunktioner/softsign.png" class="img-fluid"></td>
<td style="text-align: center;"><span class="math inline">\((-1,1)\)</span></td>
<td style="text-align: center;"><span class="math inline">\((1-|f(x)|)^2\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;">Hyperbolsk tangens</td>
<td style="text-align: center;"><span class="math inline">\(\frac{e^x-e^{-x}}{e^x+e^{-x}}\)</span></td>
<td style="text-align: center;"><img src="aktiveringsfunktioner/tanh.png" class="img-fluid"></td>
<td style="text-align: center;"><span class="math inline">\((-1,1)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(1-\left ( \tanh(x) \right )^2\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;">ReLU</td>
<td style="text-align: center;"><span class="math inline">\(\begin{cases}
x &amp; \textrm{hvis } x &gt; 0 \\
0 &amp; \textrm{hvis } x \leq 0 \\
\end{cases}\)</span></td>
<td style="text-align: center;"><img src="aktiveringsfunktioner/ReLU.png" class="img-fluid"></td>
<td style="text-align: center;"><span class="math inline">\([0,\infty)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\begin{cases}
1 &amp; \textrm{hvis } x &gt; 0 \\
0 &amp; \textrm{hvis } x \leq 0 \\
\end{cases}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</section>
<section id="sec-videre" class="level2">
<h2 class="anchored" data-anchor-id="sec-videre">Videre læsning</h2>
<ul>
<li><a href="https://encord.com/blog/activation-functions-neural-networks/">Activation Functions in Neural Networks: With 15 examples</a></li>
<li><a href="https://www.shiksha.com/online-courses/articles/relu-and-sigmoid-activation-function/">RELU and SIGMOID Activation Functions in a Neural Network</a></li>
</ul>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/aimat\.dk");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>