<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="I denne note giver vi en kort introduktion til mængdeteori og sandsynlighedsregning – herunder betinget sandsynlighed og uafhængige hændelser.">

<title>Sandsynlighedsregning og mængdeteori – AI MAT - matematikken bag magien</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo/SVG/Bomaerke_05_AIMAT_2024.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0bc38090dbae74be782a576ef8b6686a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-Y219BCPS45"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
 
  gtag('consent', 'default', {
    'ad_storage': 'denied',
    'analytics_storage': 'denied'
  });
gtag('config', 'G-Y219BCPS45', { 'anonymize_ip': true});
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="floating nav-fixed slimcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../logo/PNG/Logo_multi_AIMAT_RGB_2024.png" alt="" class="navbar-logo light-content">
    <img src="../../logo/PNG/Logo_multi_AIMAT_RGB_2024.png" alt="" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../undervisningsforlob/index.html"> 
<span class="menu-text">Undervisningsforløb</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materialer/index.html"> 
<span class="menu-text">Materialer</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../srp/index.html"> 
<span class="menu-text">SRP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../apps/index.html"> 
<span class="menu-text">Apps</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Om os</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.youtube.com/@ai-mat" target="_blank"> 
<span class="menu-text"><img src="../../logo/YouTube/youtube-color-darkblue-icon.svg" style="height:2em"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Indhold</h2>
   
  <ul>
  <li><a href="#mængdeteori" id="toc-mængdeteori" class="nav-link active" data-scroll-target="#mængdeteori">Mængdeteori</a>
  <ul class="collapse">
  <li><a href="#foreningsmængde-og-fællesmængde" id="toc-foreningsmængde-og-fællesmængde" class="nav-link" data-scroll-target="#foreningsmængde-og-fællesmængde">Foreningsmængde og fællesmængde</a></li>
  <li><a href="#disjunkte-mængder" id="toc-disjunkte-mængder" class="nav-link" data-scroll-target="#disjunkte-mængder">Disjunkte mængder</a></li>
  <li><a href="#komplementærmængde" id="toc-komplementærmængde" class="nav-link" data-scroll-target="#komplementærmængde">Komplementærmængde</a></li>
  </ul></li>
  <li><a href="#sandsynlighed" id="toc-sandsynlighed" class="nav-link" data-scroll-target="#sandsynlighed">Sandsynlighed</a>
  <ul class="collapse">
  <li><a href="#hændelse" id="toc-hændelse" class="nav-link" data-scroll-target="#hændelse">Hændelse</a></li>
  <li><a href="#symmetriske-sandsynlighedsfelter" id="toc-symmetriske-sandsynlighedsfelter" class="nav-link" data-scroll-target="#symmetriske-sandsynlighedsfelter">Symmetriske sandsynlighedsfelter</a></li>
  <li><a href="#ikke-symmetriske-sandsynlighedsfelter" id="toc-ikke-symmetriske-sandsynlighedsfelter" class="nav-link" data-scroll-target="#ikke-symmetriske-sandsynlighedsfelter">Ikke-symmetriske sandsynlighedsfelter</a></li>
  </ul></li>
  <li><a href="#estimat-for-sandsynlighed" id="toc-estimat-for-sandsynlighed" class="nav-link" data-scroll-target="#estimat-for-sandsynlighed">Estimat for sandsynlighed</a></li>
  <li><a href="#betinget-sandsynlighed-og-uafhængighed" id="toc-betinget-sandsynlighed-og-uafhængighed" class="nav-link" data-scroll-target="#betinget-sandsynlighed-og-uafhængighed">Betinget sandsynlighed og uafhængighed</a></li>
  <li><a href="#opdeling-og-sandsynlighed" id="toc-opdeling-og-sandsynlighed" class="nav-link" data-scroll-target="#opdeling-og-sandsynlighed">Opdeling og sandsynlighed</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Sandsynlighedsregning og mængdeteori</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Note</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>I det følgende skal vi se på sandsynlighedsteori. Alle har selvfølgelig en fornemmelse for, hvor sandsynligt det er, at "noget" indtræffer – for eksempel at man slår en sekser med en terning eller trækker et rødt kort fra et spil kort. Hurtigt kan det dog blive mere besværligt og for at kunne arbejde systematisk med sandsynligheder, er det nødvendigt først at forstå mængdeteori, som kan være med til at give overblik over det, man i sandsynlighedsregning kalder for hændelser.</p>
<section id="mængdeteori" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="mængdeteori">Mængdeteori</h2>
<p>En mængde er blot en samling af <em>forskellige</em> elementer. Det kunne være en samling der indeholder bogstaverne <span class="math inline">\(b\)</span>, <span class="math inline">\(d\)</span> og <span class="math inline">\(k\)</span>. Denne mængde skrives</p>
<p><span class="math display">\[\{b,d,k\}\]</span></p>
<p>Vi siger, at mængden indeholder elementerne <span class="math inline">\(b\)</span>, <span class="math inline">\(d\)</span> og <span class="math inline">\(k\)</span>. Hvis vi kalder mængden for <span class="math inline">\(M\)</span>, betyder <span class="math inline">\(d\in M\)</span>, at <span class="math inline">\(M\)</span> indeholder elementet <span class="math inline">\(d\)</span> (eller at <span class="math inline">\(d\)</span> er indeholdt i <span class="math inline">\(M\)</span>). At et element <span class="math inline">\(x\)</span> ikke er i mængden <span class="math inline">\(M\)</span> skrives som <span class="math inline">\(x\not \in M\)</span>.</p>
<p>Bemærk, at en mængde kan indeholde alt muligt, det kunne også være en mængde med tal som <span class="math inline">\(\{1,3,5\}\)</span> eller en mængde med personer.</p>
<p>Hvis man har to mængder <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span>, da siger vi, at de to mængder er ens, hvis det er sådan, at ethvert element, der er i <span class="math inline">\(A\)</span>, også er i <span class="math inline">\(B\)</span>, og ethvert element, der er i <span class="math inline">\(B\)</span>, også er i <span class="math inline">\(A\)</span>. Hvis <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> er ens, skrives det som <span class="math inline">\(A=B\)</span>.</p>
<div id="exm-eks1" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 1 (Ens mængder)</strong></span> Vi ser på følgende tre mængder: <span class="math display">\[
\begin{aligned}
A &amp;=\{1,2,3,5\} \\
B &amp;=\{1,4,5\} \\
C &amp;=\{1,3,2,5\}.
\end{aligned}
\]</span> Hvilke af disse er mon ens? Her er det mængderne <span class="math inline">\(A\)</span> og <span class="math inline">\(C\)</span>, som er ens, hvilket viser, at rækkefølgen ved opskrivningen af elementerne ikke er vigtig. Det vigtige er altså blot, om et element er med i mængden eller ej.</p>
</div>
<p>Ofte vil man arbejde med flere mængder og kombinere disse til at lave nye mængder.</p>
<section id="foreningsmængde-og-fællesmængde" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="foreningsmængde-og-fællesmængde">Foreningsmængde og fællesmængde</h3>
<p>Givet to mængder <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span>, da indføres foreningsmængden af <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> betegnet med</p>
<p><span class="math display">\[A\cup B\]</span></p>
<p>som mængden, der netop indeholder de elementer, som er i <span class="math inline">\(A\)</span> <u>eller</u> <span class="math inline">\(B\)</span> <u>eller</u> begge af disse. Dette er illustreret i <a href="#fig-AcupB" class="quarto-xref">figur&nbsp;1</a>, som kaldes for et Venn-diagram.</p>
<div id="fig-AcupB" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-AcupB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/AcupB.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-AcupB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;1: Venn-diagram som illustrerer foreningsmængden <span class="math inline">\(A\cup B\)</span>.
</figcaption>
</figure>
</div>
<p>Læg mærke til, at <span class="math inline">\(A \cup B = B \cup A\)</span>.</p>
<p>Desuden indføres fællesmængden af <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> betegnet med</p>
<p><span class="math display">\[A\cap B\]</span></p>
<p>som mængden, der netop indeholder de elementer, som er indeholdt i <u>både</u> <span class="math inline">\(A\)</span> <u>og</u> <span class="math inline">\(B\)</span>. Det er vist i <a href="#fig-AcapB" class="quarto-xref">figur&nbsp;2</a>.</p>
<div id="fig-AcapB" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-AcapB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/AcapB.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-AcapB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;2: Venn-diagram som illustrerer fællesmængden <span class="math inline">\(A\cap B\)</span>.
</figcaption>
</figure>
</div>
<p>Læg mærke til, at <span class="math inline">\(A \cap B = B \cap  A\)</span>.</p>
<div id="exm-eks2" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 2 (Foreningsmængde og fællesmængde)</strong></span> Vi lader</p>
<p><span class="math display">\[
A=\{1,2,3,4,5,6\} \quad \textrm{og} \quad B=\{2,4,6,8\}.
\]</span> Foreningsmængden er da</p>
<p><span class="math display">\[
A\cup B=\{1,2,3,4,5,6,8\}
\]</span> og fællesmængden er</p>
<p><span class="math display">\[
A\cap B=\{2,4,6\}.
\]</span></p>
</div>
</section>
<section id="disjunkte-mængder" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="disjunkte-mængder">Disjunkte mængder</h3>
<p>En vigtig mængde er den tomme mængde, som betegnes med <span class="math inline">\(\emptyset\)</span>. Det er altså mængden uden elementer.</p>
<p>Hvis to mængder <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> opfylder, at <span class="math inline">\(A\cap B=\emptyset\)</span> siger man, at <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> er disjunkte. Disjunkte mængder har derved ikke nogen elementer til fælles. Man kan også sige, at der ikke er noget overlap mellem de to mængder. Et eksempel på to disjunkte mængder er vist i <a href="#fig-disjunkte" class="quarto-xref">figur&nbsp;3</a>. Her ses det tydeligt, at de to mængder ikke overlapper.</p>
<div id="fig-disjunkte" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-disjunkte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/disjunkte.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-disjunkte-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;3: Venn-diagram som illustrerer to disjunkte mængder <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span>.
</figcaption>
</figure>
</div>
<div id="exm-eks3" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 3 (Disjunkte mængder)</strong></span> Vi ser på følgende tre mængder:</p>
<p><span class="math display">\[
\begin{aligned}
A &amp;=\{1,2,3,5\} \\
B &amp;=\{1,4,6\} \\
C &amp;=\{3,5,7\}.
\end{aligned}
\]</span> Her er</p>
<p><span class="math display">\[
\begin{aligned}
A \cap B &amp;= \{1\} \\
A \cap C &amp;= \{3, 5\} \\
B \cap C &amp;= \emptyset.
\end{aligned}
\]</span> Det vil sige, at <span class="math inline">\(B\)</span> og <span class="math inline">\(C\)</span> er disjunkte.</p>
</div>
</section>
<section id="komplementærmængde" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="komplementærmængde">Komplementærmængde</h3>
<p>Når man betragter mængder, vil man ofte udelukkende se på elementer af en bestemt slags. Som i de tidligere eksempler kunne det være, at alle elementer er heltal. Her tænker vi, at vi arbejder indenfor et univers <span class="math inline">\(U\)</span>, som er alle mulige tænkelige elementer, og de mængder vi ellers ser på indeholder så elementer, som er i mængden <span class="math inline">\(U\)</span>.</p>
<p>Lad os se på et univers <span class="math inline">\(U\)</span> og en mængde <span class="math inline">\(A\)</span>, som kun indeholder elementer, der også er i <span class="math inline">\(U\)</span>. Vi vil så indføre komplementærmængden for <span class="math inline">\(A\)</span>, som mængden indeholdende netop de elementer fra <span class="math inline">\(U\)</span>, som <u>ikke</u> er i <span class="math inline">\(A\)</span>. Komplementærmængden til <span class="math inline">\(A\)</span> skrives <span class="math inline">\(\overline{A}\)</span>. Dette er illustreret i <a href="#fig-complementA" class="quarto-xref">figur&nbsp;4</a>.</p>
<div id="fig-complementA" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-complementA-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/complementA.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-complementA-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;4: Venn-diagram som illustrerer komplementærmængden <span class="math inline">\(\overline{A}\)</span>.
</figcaption>
</figure>
</div>
<p>Lad os se på et eksempel.</p>
<div id="exm-eks4" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 4 (Komplementærmængde)</strong></span> Vi ser på et univers</p>
<p><span class="math display">\[
U=\{1,2,3,4,5,6,7,8\}
\]</span></p>
<p>og en mængde <span class="math inline">\(A\)</span>:</p>
<p><span class="math display">\[
A=\{1,2,3\}.
\]</span></p>
<p>Da er komplementærmængden til <span class="math inline">\(A\)</span>:</p>
<p><span class="math display">\[
\overline{A}= \{4,5,6,7,8\}
\]</span></p>
<p>fordi det netop er alle de elementer i universet <span class="math inline">\(U\)</span>, som <u>ikke</u> er i <span class="math inline">\(A\)</span>.</p>
</div>
<p>Givet en mængde <span class="math inline">\(A\)</span>, så kaldes <span class="math inline">\(A_1,A_2,...,A_n\)</span> en opdeling af <span class="math inline">\(A\)</span>, hvis <span class="math inline">\(A_1,A_2,...,A_n\)</span> er mængder, som er parvis disjunkte, og hvor</p>
<p><span class="math display">\[
A=A_1\cup A_2\cup \cdots \cup A_n.
\]</span></p>
<p>Et eksempel på en opdeling af en mængde <span class="math inline">\(A\)</span> i mængderne <span class="math inline">\(A_1, A_2, A_3, A_4\)</span> og <span class="math inline">\(A_5\)</span> ses i <a href="#fig-opdeling" class="quarto-xref">figur&nbsp;5</a>.</p>
<div id="fig-opdeling" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-opdeling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/opdeling.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-opdeling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;5: Venn-diagram som illustrerer en opdeling af en mængde <span class="math inline">\(A\)</span> i mængderne <span class="math inline">\(A_1, A_2, A_3, A_4\)</span> og <span class="math inline">\(A_5\)</span>.
</figcaption>
</figure>
</div>
<div id="exm-eks5" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 5 (Opdeling)</strong></span> Hvis man har mængden</p>
<p><span class="math display">\[
A=\{1,2,3,4,5,6,7,8\}
\]</span></p>
<p>kan man lave en opdeling af <span class="math inline">\(A\)</span> i to mængder <span class="math inline">\(A_1\)</span> og <span class="math inline">\(A_2\)</span>, hvor <span class="math inline">\(A_1\)</span> indeholder de lige tal fra <span class="math inline">\(A\)</span>, mens <span class="math inline">\(A_2\)</span> indeholder de ulige tal fra <span class="math inline">\(A\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
A_1 &amp;= \{2, 4, 6, 8\} \\
A_2 &amp;= \{1, 3, 5, 7\}.
\end{aligned}
\]</span></p>
</div>
<p>Hvis det var en mængde indeholdende elever på et gymnasium, kunne man lave en opdeling efter hvilke klasser, man kommer fra.</p>
</section>
</section>
<section id="sandsynlighed" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="sandsynlighed">Sandsynlighed</h2>
<p>I sandsynlighedsregning tænker man, at man udfører et forsøg eller et eksperiment, hvor der er nogle mulige udfald. Mængden af disse udfald kaldes udfaldsrummet.</p>
<p>På forhånd ved man ikke, hvad resultatet af et eksperiment bliver, men ofte kender man sandsynligheden for at hvert udfald i et udfaldsrum <span class="math inline">\(U\)</span> indtræffer. Rent matematisk svarer det til, at man kender en såkaldt sandsynlighedsfunktion <span class="math inline">\(P\)</span>.</p>
<p>Formelt definerer man et sandsynlighedsfelt på denne måde:</p>
<div id="def-ssh_felt" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1 (Sandsynlighedsfunktion)</strong></span> Ved et sandsynlighedsfelt forstås en sandsynlighedsfunktion <span class="math inline">\(P\)</span>, der til hvert udfald <span class="math inline">\(u_i\)</span> i et udfaldsrum <span class="math inline">\(U=\{u_1,u_2,\ldots,u_n\}\)</span> knytter et reelt tal <span class="math inline">\(P(u_i)\)</span>, hvor</p>
<p><span class="math display">\[0 \leq P(u_i)\leq 1\]</span></p>
<p>og hvor</p>
<p><span class="math display">\[
P(u_1)+P(u_2)+\cdots + P(u_n)=1=100 \%.
\]</span></p>
<p><span class="math inline">\(P(u_i)\)</span> kaldes sandsynligheden for udfaldet <span class="math inline">\(u_i\)</span>.</p>
</div>
<p>Lad os se på et konkret eksempel.</p>
<div id="exm-eks6" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 6 (Sandsynlighedsfunktion)</strong></span> Vi tænker, at man slår med en almindelig terning, hvor udfaldet kan være <span class="math inline">\(1,2,3,4,5,6\)</span>. Udfaldsrummet er altså <span class="math inline">\(U= \{1,2,3,4,5,6\}.\)</span></p>
<p>Her vil sandsynligheden for, at man slår <span class="math inline">\(3\)</span> være <span class="math inline">\(P(3)=\frac{1}{6}\)</span>. Ved dette eksempel er sandsynligheden for hvert udfald ens. Sandsynlighedsfeltet kan skrives op på denne måde:</p>
<table class="table-bordered table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(u\)</span></th>
<th style="text-align: center;"><span class="math inline">\(1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(3\)</span></th>
<th style="text-align: center;"><span class="math inline">\(4\)</span></th>
<th style="text-align: center;"><span class="math inline">\(5\)</span></th>
<th style="text-align: center;"><span class="math inline">\(6\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(P(u)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{1}{6}\)</span></td>
</tr>
</tbody>
</table>
</div>
<p>Når vi i eksemplet ovenfor siger, at sandsynligheden for at slå <span class="math inline">\(1,2,3,4,5\)</span> eller <span class="math inline">\(6\)</span> alle er <span class="math inline">\(\frac{1}{6}\)</span>, så er det baseret på vores fornuft: Terningen har seks sider, og der må være samme sandsynlighed for at lande på hver af dem<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> – ergo er hver af sandsynlighederne <span class="math inline">\(\frac{1}{6}\)</span>. En sandsynlighed bestemt på denne måde, kaldes for en <strong>a priori sandsynlighed</strong>.</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Hvis der altså er tale om en såkaldt ærlig terning. Man kan også købe "snydeterninger", som meget gerne vil lande på for eksempel 6. De er gode at have med til pakkespil (hvis altså dine medspillere bruger almindelige terninger)!</p></div></div><section id="hændelse" class="level3">
<h3 class="anchored" data-anchor-id="hændelse">Hændelse</h3>
<p>En delmængde <span class="math inline">\(A\)</span> af udfaldsrummet <span class="math inline">\(U\)</span> kaldes for en hændelse:</p>
<div id="def-haendelse" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 2 (Hændelse)</strong></span> Lad <span class="math inline">\(U\)</span> være et udfaldsrum. En delmængde <span class="math inline">\(A\)</span> af udfaldsrummet kaldes for en hændelse.</p>
<p>Vi definerer sandsynligheden for <span class="math inline">\(A\)</span> ved</p>
<p><span id="eq-def_haendelse"><span class="math display">\[
P(A) = \sum_{u\in A} P(u).
  \tag{1}\]</span></span></p>
</div>
<p>Sandsynligheden for en hændelse fås altså ved at lægge sandsynligheden for hver af de udfald, som udgør hændelsen, sammen. Det illustreres nemmest med et eksempel:</p>
<div id="exm-eks7" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 7 (Lige antal øjne)</strong></span> Lad os igen se på sandsynlighedsfeltet i <a href="#exm-eks6" class="quarto-xref">eksempel&nbsp;6</a>. Et eksempel på en hændelse er, at terningen viser et lige antal øjne. Det vil sige, at</p>
<p><span class="math display">\[
A= \{2, 4, 6\}.
\]</span></p>
<p>Dermed er</p>
<p><span class="math display">\[
P(A) = \sum_{u\in A} P(u) = P(2) + P(4) + P(6) = \frac{1}{6} + \frac{1}{6} + \frac{1}{6} = \frac{3}{6} = \frac{1}{2}
\]</span> som forventet.</p>
</div>
</section>
<section id="symmetriske-sandsynlighedsfelter" class="level3">
<h3 class="anchored" data-anchor-id="symmetriske-sandsynlighedsfelter">Symmetriske sandsynlighedsfelter</h3>
<p>Hvis sandsynligheden for hvert udfald er den samme kaldes sandsynlighedsfeltet for symmetrisk. Det vil sige, at sandsynlighedsfeltet i <a href="#exm-eks6" class="quarto-xref">eksempel&nbsp;6</a> er symmetrisk. Hvis der i alt er <span class="math inline">\(n\)</span> udfald, vil sandsynligheden for et enkelt udfald <span class="math inline">\(u\in U\)</span> i et symmetrisk sandsynlighedsfelt være</p>
<p><span class="math display">\[
P(u)=\frac{1}{n}.
\]</span></p>
<!-- Ofte vil vi ikke kun se på sandsynligheden for et udfald, men derimod for noget som kan dække over flere forskellige udfald, dette kaldes en hændelse. Ved en terning kunne det være sandsynligheden for at slå noget lige. -->
<p>Vi ser nu på en hændelse <span class="math inline">\(A\)</span>, som i alt består af <span class="math inline">\(k\)</span> udfald. Da bliver sandsynligheden for <span class="math inline">\(A\)</span></p>
<p><span class="math display">\[
P(A)=\underbrace{\frac{1}{n} + \frac{1}{n} + \cdots + \frac{1}{n}}_{k \textrm{ led}}= \frac{k}{n}.
\]</span> De udfald, som er i hændelsen <span class="math inline">\(A\)</span>, kalder man også for <strong>gunstige udfald</strong>. Det betyder, at ovenstående formel kan udtrykket på denne måde:</p>
<p><span class="math display">\[
P(A)=\frac{\textrm{antal gunstige udfald}}{\textrm{antal mulige udfald}}.
\]</span> Vær opmærksom på, at denne formel <u>kun</u> gælder i symmetriske sandsynlighedsfelter.</p>
<div id="exm-eks8" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 8 (Lige antal øjne, fortsat)</strong></span> Da sandsynlighedsfeltet, som vi så på i <a href="#exm-eks6" class="quarto-xref">eksempel&nbsp;6</a> og <a href="#exm-eks7" class="quarto-xref">eksempel&nbsp;7</a> er symmetrisk, kunne vi også have fundet <span class="math inline">\(P(A)\)</span> ved at bruge formlen ovenfor. Der er <span class="math inline">\(3\)</span> udfald i <span class="math inline">\(A\)</span> og <span class="math inline">\(6\)</span> mulige udfald i alt. Dermed er</p>
<p><span class="math display">\[
P(A)=\frac{3}{6}=\frac{1}{2}.
\]</span></p>
</div>
</section>
<section id="ikke-symmetriske-sandsynlighedsfelter" class="level3 page-columns page-full">
<h3 class="anchored" data-anchor-id="ikke-symmetriske-sandsynlighedsfelter">Ikke-symmetriske sandsynlighedsfelter</h3>
<p>Det er selvfølgelig ikke altid, at man har et symmetrisk sandsynlighedfelt. Vi vil illustrere et ikke-symmetrisk sandsynlighedsfelt med et eksempel.</p>
<div id="exm-eks9" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 9 (Produktion af bolde)</strong></span> Vi forestiller os en maskine, der producerer bolde og for hver gang, der bliver lavet en bold, er der <span class="math inline">\(20 \%\)</span> chance for, at den bliver rød, <span class="math inline">\(40 \%\)</span> chance for at den bliver blå, <span class="math inline">\(10 \%\)</span> chance for at den bliver grøn, og <span class="math inline">\(30 \%\)</span> chance for at den bliver gul.</p>
<p>Her er udfaldsrummet <span class="math inline">\(U = \{\textrm{rød}, \textrm{blå}, \textrm{grøn}, \textrm{gul} \}\)</span>. Desuden er <span class="math inline">\(P(\textrm{rød})=20 \%\)</span>, <span class="math inline">\(P(\textrm{blå})=40 \%\)</span>, <span class="math inline">\(P(\textrm{grøn})=10 \%\)</span> og <span class="math inline">\(P(\textrm{gul})=30 \%\)</span>. Opskrevet i en tabel ser det sådan her ud:</p>
<table class="table-bordered table">
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(u\)</span></th>
<th style="text-align: center;">rød</th>
<th style="text-align: center;">blå</th>
<th style="text-align: center;">grøn</th>
<th style="text-align: center;">gul</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(P(u)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(20 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(40 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(10 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(30 \%\)</span></td>
</tr>
</tbody>
</table>
<p>Hvis vi ser på hændelsen</p>
<p><span class="math display">\[
A: \textrm{der laves en rød eller blå bold},
\]</span></p>
<p>da bliver sandsynligheden ifølge <a href="#def-haendelse" class="quarto-xref">definition&nbsp;2</a>:</p>
<p><span class="math display">\[
P(A)=P(\textrm{rød})+P(\textrm{blå})=20\%+40\%=60\%.
\]</span></p>
<p>Altså blot summen af sandsynlighederne for hvert af udfaldene i hændelsen.</p>
</div>
<p>Hvis man ser på hændelser som mængder, kan man ved hjælp af Venn-diagrammet i <a href="#fig-AcupB2" class="quarto-xref">figur&nbsp;6</a> se, at der må gælde</p>
<p><span class="math display">\[
P(A\cup B)=P(A)+P(B)-P(A\cap B).
\]</span></p>
<div id="fig-AcupB2" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-AcupB2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/AcupB2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-AcupB2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;6: Venn-diagram som illustrerer sammenhængen mellem <span class="math inline">\(P(A\cup B)\)</span>, <span class="math inline">\(P(A)\)</span>, <span class="math inline">\(P(B)\)</span> og <span class="math inline">\(P(A\cap B)\)</span>.
</figcaption>
</figure>
</div>
<p>Vi kan argumentere for resultatet på følgende måde: Hvis man tager alle udfald fra <span class="math inline">\(A\)</span> og bagefter alle udfald fra <span class="math inline">\(B\)</span>, vil de udfald, som er i begge hændelser (svarende til fællesmængden <span class="math inline">\(A \cap B\)</span>), blive taget med to gange. Hvis vi vil finde sandsynligheden for <span class="math inline">\(P(A \cup B)\)</span>, er vi derfor nødt til at trække sandsynligheden <span class="math inline">\(P(A \cap B)\)</span> fra <span class="math inline">\(P(A)+P(B)\)</span>, fordi den er talt med to gange.</p>
<p>Hvis de to hændelser <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> er disjunkte, hvorved <span class="math inline">\(A\cap B\)</span> er den tomme mængde, bliver</p>
<p><span class="math display">\[
P(A\cup B)=P(A)+P(B).
\]</span></p>
<p>Når man ser på hændelsen <span class="math inline">\(\overline{A}\)</span> svarende til komplementærmængden af en hændelse <span class="math inline">\(A,\)</span> er det oplagt, at</p>
<p><span class="math display">\[
P(\overline{A}) + P(A)=1
\]</span> og dermed må</p>
<p><span class="math display">\[
P(\overline{A})=1-P(A).
\]</span></p>
<div id="exm-eks10" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 10 (Kast med to terninger)</strong></span> Vi kaster en ganske almindelig terning to gange og ønsker at finde sandsynligheden for, at man mindst en af gangene får en 6’er. Vi definerer hændelserne:</p>
<p><span class="math display">\[
\begin{aligned}
&amp;A: \textrm{man slår en 6'er i det første kast} \\
&amp;B: \textrm{man slår en 6'er i det andet kast} \\
\end{aligned}
\]</span> hvor der her er underforstået, at det er lige meget, hvad man slår i det modsatte kast.</p>
<p>Da er den ønskede sandsynlighed:</p>
<p><span class="math display">\[
P(A\cup B)=P(A)+P(B)-P(A\cap B).
\]</span> Her må</p>
<p><span class="math display">\[
P(A)=P(B)=\frac{1}{6}
\]</span></p>
<p>og</p>
<p><span class="math display">\[
P(A\cap B)=\frac{1}{36}
\]</span></p>
<p>da <span class="math inline">\(A\cap B\)</span> må svare til, at man får en 6’er i <u>begge</u> kast.</p>
<p>Derfor er</p>
<p><span class="math display">\[
P(A\cup B)=P(A)+P(B)-P(A\cap B)=\frac{1}{6}+\frac{1}{6}-\frac{1}{36}=\frac{11}{36}.
\]</span> Læg her mærke til, at udfaldet, hvor man i begge kast får en 6’er, både er i hændelsen <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span>.</p>
</div>
</section>
</section>
<section id="estimat-for-sandsynlighed" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="estimat-for-sandsynlighed">Estimat for sandsynlighed</h2>
<p>Ofte vil man støde på tilfælde, hvor man ikke kender en sandsynlighed, og heller ikke bare kan regne sandsynligheden ud. Det kunne for eksempel være sandsynligheden for at vinde i et lykkehjul eller i et reklamespil. Her vil firmaer ofte få det til at fremstå som om, at det er let at vinde et større beløb ved, at alle felter er lige store. Det er illustreret i figuren herunder:</p>
<div id="fig-lykkehjul" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-lykkehjul-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/lykkehjul.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:40.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-lykkehjul-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;7: Lykkehjul.
</figcaption>
</figure>
</div>
<p>Her skulle man tog, at man vinder 1000 kroner med sandsynlighed <span class="math inline">\(\frac{1}{4}\)</span>, men det er desværre nok ikke tilfældet.</p>
<p>For at få et estimat for sandsynligheden for at vinde, kan man prøve lykkehjulet mange gange og finde et estimat, <span class="math inline">\(\hat{p}\)</span>, for sandsynligheden for at vinde ved at udregne</p>
<p><span class="math display">\[
\hat{p}=\frac{\textrm{antal successer}}{\textrm{antal forsøg}}.
\]</span></p>
<p>Her har vi antaget, at sandsynligheden for succes ikke ændres. Estimatet for sandsynligheden fås altså ved at tage en stikprøve, hvor man prøver mange gange. En sandsynlighed bestemt på denne måde kaldes for en <strong>frekventiel sandsynlighed</strong>.</p>
<div id="exm-eks11" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 11 (Uærlig terning)</strong></span> En klasse slår med en uærlig terning 234 gange og notere det antal øjne, terningen viser. På den baggrund kan de estimere sandsynligheden for henholdsvis <span class="math inline">\(1, 2, 3, 4, 5\)</span> og <span class="math inline">\(6\)</span>:</p>
<table class="table-bordered table">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><span class="math inline">\(u\)</span></th>
<th style="text-align: center;"><span class="math inline">\(1\)</span></th>
<th style="text-align: center;"><span class="math inline">\(2\)</span></th>
<th style="text-align: center;"><span class="math inline">\(3\)</span></th>
<th style="text-align: center;"><span class="math inline">\(4\)</span></th>
<th style="text-align: center;"><span class="math inline">\(5\)</span></th>
<th style="text-align: center;"><span class="math inline">\(6\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Antal successer</td>
<td style="text-align: center;"><span class="math inline">\(10\)</span></td>
<td style="text-align: center;"><span class="math inline">\(13\)</span></td>
<td style="text-align: center;"><span class="math inline">\(19\)</span></td>
<td style="text-align: center;"><span class="math inline">\(19\)</span></td>
<td style="text-align: center;"><span class="math inline">\(30\)</span></td>
<td style="text-align: center;"><span class="math inline">\(143\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(P(u)\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{10}{234} \approx\)</span> <span class="math inline">\(4.3 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{13}{234}  \approx\)</span> <span class="math inline">\(5.6 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{19}{234} \approx\)</span> <span class="math inline">\(8.1 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{19}{234} \approx\)</span> <span class="math inline">\(8.1\%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{30}{234} \approx\)</span> <span class="math inline">\(12.8 \%\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\frac{143}{234} \approx\)</span> <span class="math inline">\(61.1 \%\)</span></td>
</tr>
</tbody>
</table>
<p>Her kan man jo tydeligt se, hvorfor det er en god terning at snige med til et pakkespil!</p>
</div>
</section>
<section id="betinget-sandsynlighed-og-uafhængighed" class="level2">
<h2 class="anchored" data-anchor-id="betinget-sandsynlighed-og-uafhængighed">Betinget sandsynlighed og uafhængighed</h2>
<p>Nogle gange kan man være interesseret i sandsynligheden for, at en hændelse <span class="math inline">\(A\)</span> indtræffer, når man allerede ved, at en anden hændelse <span class="math inline">\(B\)</span> er indtruffet. Det kunne for eksempel være sandsynligheden for at få 12 til skriftlig eksamen i matematik, hvis man allerede ved, at eleven går i en naturvidenskabelig studieretning.</p>
<p>Til en sådan sandsynlighed benyttes notationen <span class="math inline">\(P(A|B)\)</span>. Det er altså sandsynligheden for, at <span class="math inline">\(A\)</span> sker, når det er givet, at <span class="math inline">\(B\)</span> er sket. Det læses derfor også som sandsynligheden for <span class="math inline">\(A\)</span> givet <span class="math inline">\(B\)</span>.</p>
<p>Lad os se på et par eksempler:</p>
<div id="exm-eks12" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 12 (Kast med en ærlig terning)</strong></span> Vi ser igen på, at man slår med en ganske almindelig terning. Her ønsker vi at bestemme sandsynligheden for, at man slår noget lige givet, at man slår mindst <span class="math inline">\(4\)</span>.</p>
<p>Her vil</p>
<p><span class="math display">\[
A=\{2,4,6\}
\]</span></p>
<p>svarer til at slå noget lige og</p>
<p><span class="math display">\[
B=\{4,5,6\}
\]</span></p>
<p>svarer til at slå mindst <span class="math inline">\(4\)</span>. Det er så netop sandsynligheden <span class="math inline">\(P(A|B)\)</span> vi skal have fundet.</p>
<p>Her kan vi tænke på det som om, at udfaldrummet kun består af <span class="math inline">\(B=\{4,5,6\}\)</span> og ved hændelsen <span class="math inline">\(A\)</span>, skal vi kun se på den del, som også er i <span class="math inline">\(B\)</span>. Det svarer til</p>
<p><span class="math display">\[
A \cap B = \{4, 6\}.
\]</span></p>
<p>Da det samtidigt er et symmetrisk sandsynlighedsfelt, vil vi få sandsynligheden ved</p>
<p><span class="math display">\[
P(A|B)=\frac{\textrm{antal gunstige}}{\textrm{antal mulige}}=\frac{2}{3}.
\]</span></p>
</div>
<p>I formlen i ovenstående eksempel kan vi prøve at dele med det samlede antal udfald i tæller og nævner:</p>
<p><span class="math display">\[
P(A|B)=\frac{\frac{2}{6}}{\frac{3}{6}}.
\]</span></p>
<p>I tælleren ser vi faktisk på sandsynlighden for fællesmængden for de to hændelser:</p>
<p><span class="math display">\[
P(A\cap B)=\frac{2}{6}
\]</span></p>
<p>mens nævneren svarer til</p>
<p><span class="math display">\[
P(B)=\frac{3}{6}.
\]</span></p>
<p>Det leder frem til følgende definition på betinget sandsynlighed</p>
<div id="def-betinget" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 3 (Betinget sandsynlighed)</strong></span> Lad <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> være to hændelser, hvor <span class="math inline">\(P(B) \neq 0\)</span>. Ved den betingede sandsynlighed <span class="math inline">\(P(A | B)\)</span> forstås tallet</p>
<p><span class="math display">\[
P(A|B)=\frac{P(A\cap B)}{P(B)}
\]</span></p>
</div>
<p>Lad os se på endnu et eksempel.</p>
<div id="exm-eks13" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 13 (Interesse for fodbold)</strong></span> Her udvælger vi en tilfældig gymnasieelev og ser på, om den udvalgte er interesseret i fodbold. Her kan vi for eksempel se på sandsynligheden for, at den udvalgte er interesseret i fodbold givet, at den udvalgte er en dreng.</p>
<p>Alle vil nok tænke, at information om kønnet af den udvalgte vil ændre sandsynligheden for, om den udvalgte er interesseret i fodbold.</p>
<p>Lad os sige, at der i alt er <span class="math inline">\(500\)</span> gymnasieelever, hvoraf <span class="math inline">\(200\)</span> er drenge og <span class="math inline">\(300\)</span> piger. Desuden er <span class="math inline">\(120\)</span> drenge interesseret i fodbold, mens <span class="math inline">\(90\)</span> piger er interesseret i fodbold.</p>
<p>Vi kan nu beregne <span class="math inline">\(P(\textrm{fodbold})\)</span>, <span class="math inline">\(P(\textrm{fodbold } | \textrm{ dreng})\)</span> og <span class="math inline">\(P(\textrm{fodbold } | \textrm{ pige})\)</span>.</p>
<p>Vi antager, at hver gymnasieelev udvælges med samme sandsynlighed. Der er altså tale om et symmetrisk sandsynlighedsfelt. Derfor er</p>
<p><span class="math display">\[
P(\textrm{fodbold})=\frac{\textrm{antal gunstige}}{\textrm{antal mulige}}=\frac{210}{500}=42\%.
\]</span></p>
<p>Hvis vi skal finde <span class="math inline">\(P(\textrm{fodbold }| \textrm{ dreng})\)</span> er det sandsynligheden for, at den udvalgte er interesseret i fodbold givet, at den udvalgte er en dreng. Med denne formulering giver det mening kun at se på drengene, og om en udvalgt blandt drengene vil være interesseret i fodbold:</p>
<p><span class="math display">\[
P(\textrm{fodbold }| \textrm{ dreng})=\frac{\textrm{antal gunstige}}{\textrm{antal mulige}}=\frac{120}{200}=60\%.
\]</span></p>
<p>Her ses det, at hvis får information om, at det er en dreng, der er udvalgt, så ændrer det på sandsynligheden for, at den udvalgte er interesseret i fodbold.</p>
</div>
<p>Ved beregningen af <span class="math inline">\(P(\textrm{fodbold }| \textrm{ dreng})\)</span> i eksemplet ovenfor kan vi igen dividere i tæller og nævner med antallet af gymnasieelever i alt og få:</p>
<p><span class="math display">\[
P(\textrm{fodbold }| \textrm{ dreng})=\frac{\frac{120}{500}}{\frac{200}{500}}.
\]</span></p>
<p>Her svarer tælleren til, at den udvalgte <u>både</u> er en dreng, <u>og</u> at han er interesseret i fodbold (hændelsen svarer altså til en fællesmængde). Nævneren svarer til sandsynligheden for, at den udvalgte er en dreng. Altså</p>
<p><span class="math display">\[
P(\textrm{fodbold }| \textrm{ dreng})=\frac{P(\textrm{fodbold} \cap \textrm{dreng})}{P(\textrm{dreng})}.
\]</span></p>
<p>Læg mærke til, at det igen svarer til <a href="#def-betinget" class="quarto-xref">definition&nbsp;3</a>. Beregningen med formlen svarer til, at man begrænser sig til udfald, hvor <span class="math inline">\(B\)</span> indtræffer, og ser hvor sandsynligt det er, at <span class="math inline">\(A\)</span> indtræffer der.</p>
<p>Fra <a href="#def-betinget" class="quarto-xref">definition&nbsp;3</a> er det nemt at udlede følgende sætning:</p>
<div id="thm-AcapB" class="theorem">
<p><span class="theorem-title"><strong>Sætning 1</strong></span> Lad <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> være to hændelser, da gælder</p>
<p><span class="math display">\[
P(A\cap B)= P(A|B)\cdot P(B)
\]</span></p>
</div>
<p>Man siger to hændelser er uafhængige, hvis viden om, at den ene hændelse indtræffer, ikke påvirker sandsynligheden for den anden. Det kan vi formulere sådan her:</p>
<div id="def-uafhængighed" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 4 (Uafhængige hændelser)</strong></span> Lad <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> være to hændelser. Da siger man, at <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> er uafhængige, hvis</p>
<p><span class="math display">\[
P(A|B)=P(A)
\]</span></p>
</div>
<p>I <a href="#exm-eks13" class="quarto-xref">eksempel&nbsp;13</a> er der ikke uafhængighed mellem hændelserne at "den udvalgte er en dreng" og hændelsen "den udvalgte er interesseret i foldbold". I eksemplet var <span class="math inline">\(P(\textrm{ fodbold})=42\%\)</span>, mens <span class="math inline">\(P(\textrm{ fodbold } | \textrm{ dreng})=60\%\)</span>.</p>
<p>Et af de helt centrale resultater i forbindelse med betingede sandsynligheder er Bayes sætning.</p>
<div id="thm-bayes" class="theorem">
<p><span class="theorem-title"><strong>Sætning 2 (Bayes sætning)</strong></span> Givet to hændelser <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span>. Da gælder, at</p>
<p><span class="math display">\[P(A|B)=\frac{P(B|A)\cdot P(A)}{P(B)}\]</span></p>
</div>
<div class="bevis">
<p><span class="fremhaev">Bevis</span></p>
<p>Givet to mængder <span class="math inline">\(A\)</span> og <span class="math inline">\(B\)</span> så ved vi, at <span class="math inline">\(A\cap B=B\cap A\)</span>, og derfor er</p>
<p><span class="math display">\[
P(A\cap B)=P(B\cap A).
\]</span></p>
<p>Vi benytter <a href="#thm-AcapB" class="quarto-xref">sætning&nbsp;1</a> på begge sider af lighedstegnet og får:</p>
<p><span class="math display">\[P(A|B) \cdot P(B) = P(B|A) \cdot P(A).\]</span></p>
<p>Her isoleres <span class="math inline">\(P(A|B)\)</span> ved at dividere med <span class="math inline">\(P(B)\)</span>:</p>
<p><span class="math display">\[
P(A|B) = \frac{P(B|A)\cdot P(A)}{P(B)}.
\]</span></p>
</div>
<p>Ofte benyttes Bayes sætning til at bestemme den betingede sandsynlighed <span class="math inline">\(P(A|B)\)</span> ud fra den betingede sandsynlighed <span class="math inline">\(P(B|A)\)</span>.</p>
<div id="exm-eks14" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 14 (Interesse for fodbold, fortsat)</strong></span> Vi ønsker at finde sandsynligheden for at en udvalgt er en dreng givet, at den udvalgte er en, som er interesseret i fodbold. Vi vil altså bestemme sandsynligheden <span class="math inline">\(P(\textrm{dreng }| \textrm{ fodbold})\)</span>. Fra bayes sætning får vi</p>
<p><span class="math display">\[
P(\textrm{dreng }| \textrm{ fodbold})=\frac{P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{dreng})}{P(\textrm{fodbold})}.
\]</span> I <a href="#exm-eks13" class="quarto-xref">eksempel&nbsp;13</a> har vi udregnet <span class="math inline">\(P(\textrm{fodbold}) = 42 \%\)</span> og <span class="math inline">\(P(\textrm{fodbold } | \textrm{ dreng}) = 60 \%\)</span>. Da der er <span class="math inline">\(200\)</span> drenge ud af i alt <span class="math inline">\(500\)</span> gymnasieelever, er <span class="math inline">\(P(\textrm{dreng}) = 40 \%\)</span>, og vi kender derfor alle sandsynligheder på højre side i ovenstående udtryk og får</p>
<p><span class="math display">\[
P(\textrm{dreng } | \textrm{ fodbold})=\frac{60 \% \cdot 40 \%}{42\%}\approx 57.1\%.
\]</span> I eksemplet var der altså <span class="math inline">\(40 \%\)</span>, som var drenge, men der var samtidig en større del af dem, som var interesseret i fodbold i forhold til pigerne. Derfor er det forventet, at den udregnede sandsynlighed er større end <span class="math inline">\(40 \%\)</span>.</p>
</div>
<p><br>
</p>
<section id="opgave-betinget-sandsynlighed-og-uafhængighed" class="level4">
<h4 class="anchored" data-anchor-id="opgave-betinget-sandsynlighed-og-uafhængighed">Opgave: Betinget sandsynlighed og uafhængighed</h4>
<p>Du finder en opgave om betinget sandsynlighed og uafhængighed her: <a href="../../undervisningsforlob/sandsynlighedsregning.html#betinget-sandsynlighed">Opgave 1</a>.</p>
</section>
</section>
<section id="opdeling-og-sandsynlighed" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="opdeling-og-sandsynlighed">Opdeling og sandsynlighed</h2>
<p>Fra <a href="#def-haendelse" class="quarto-xref">definition&nbsp;2</a> følger det, at hvis <span class="math inline">\(A_1,A_2,...,A_n\)</span> er en opdeling af en hændelse <span class="math inline">\(A\)</span>, så er</p>
<p><span class="math display">\[
P(A)=P(A_1)+P(A_2)+\cdots+P(A_n).
\]</span></p>
<p>Når vi skal finde sandsynligheden for en hændelse <span class="math inline">\(B\)</span>, kan det nogle gange være en idé at benytte en opdeling af udfaldsrummet <span class="math inline">\(U\)</span>.</p>
<div id="thm-total_ssh" class="theorem">
<p><span class="theorem-title"><strong>Sætning 3 (Loven om total sandsynlighed)</strong></span> Lad <span class="math inline">\(B\)</span> være en hændelse og lad <span class="math inline">\(A_1,A_2,...,A_n\)</span> være en opdeling af udfaldsrummet <span class="math inline">\(U\)</span>. Så er</p>
<p><span class="math display">\[
P(B)=P(B|A_1)\cdot P(A_1)+P(B|A_2)\cdot P(A_2)+\cdots +P(B|A_n)\cdot P(A_n)
\]</span></p>
</div>
<div class="bevis">
<p><span class="fremhaev">Bevis</span></p>
<p>På <a href="#fig-opdelingB" class="quarto-xref">figur&nbsp;8</a> herunder ses det, at mængden <span class="math inline">\(B\)</span> kan opdeles i mængderne</p>
<p><span class="math display">\[
B\cap A_1,B\cap A_2,\ldots,B\cap A_n.
\]</span></p>
<p>Derfor er</p>
<p><span class="math display">\[
P(B)=P(B\cap A_1)+P(B\cap A_2)+\cdots+P(B\cap A_n).
\]</span></p>
<p>Ved at benytte <a href="#thm-AcapB" class="quarto-xref">sætning&nbsp;1</a> for hvert led på højresiden, får vi derfor, at</p>
<p><span class="math display">\[
\begin{aligned}
P(B)=P(B|A_1)\cdot P(A_1) &amp;+P(B|A_2)\cdot P(A_2) \\ &amp;+\cdots +P(B|A_n)\cdot P(A_n)
\end{aligned}
\]</span></p>
<p>Hvilket netop var det, vi gerne ville vise.</p>
</div>
<div id="fig-opdelingB" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-opdelingB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/udvidet_bayes.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig margin-caption" id="fig-opdelingB-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figur&nbsp;8: En opdeling af mængden <span class="math inline">\(B\)</span>.
</figcaption>
</figure>
</div>
<p>Vi illustrerer sætningen med eksemplet om fodbold.</p>
<div id="exm-eks15" class="theorem example">
<p><span class="theorem-title"><strong>Eksempel 15 (Interesse for fodbold, fortsat 2)</strong></span> Lad os tage eksemplet fra tidligere med fodbold, men hvor vi lige glemmer antallet af elever. Vi husker blot, at</p>
<p><span class="math display">\[
\begin{aligned}
P(\textrm{dreng}) &amp;= 40 \% \\
P(\textrm{pige}) &amp;= 60 \%
\end{aligned}
\]</span></p>
<p>Samtidig ved vi, at <span class="math inline">\(60\%\)</span> af drengene er interesseret i fodbold, og <span class="math inline">\(30\%\)</span> af pigerne er interesseret i fodbold. Det vil sige, at</p>
<p><span class="math display">\[
\begin{aligned}
P(\textrm{fodbold } | \textrm{ dreng}) &amp;= 60 \% \\
P(\textrm{fodbold } | \textrm{ pige}) &amp;= 30 \%
\end{aligned}
\]</span></p>
<p>Hvis man ønsker at beregne sandsynligheden for, at en tilfældig udvalgt gymnasieelev er interesseret i fodbold, kan vi lave en opdeling af alle gymnasieeleverne i henholdsvis drenge og piger. Fra <a href="#thm-total_ssh" class="quarto-xref">sætning&nbsp;3</a> får vi derfor</p>
<p><span class="math display">\[
\begin{aligned}
P(\textrm{fodbold}) &amp;=P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{dreng})+P(\textrm{fodbold } | \textrm{ pige})\cdot P(\textrm{pige}) \\
&amp;=60\%\cdot 40\%+30\% \cdot 60 \%=42\%.
\end{aligned}
\]</span></p>
<p>Fra <a href="#thm-AcapB" class="quarto-xref">sætning&nbsp;1</a> ved vi, at</p>
<p><span class="math display">\[
P(\textrm{fodbold} \cap \textrm{dreng}) = P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{ dreng})
\]</span></p>
<p>og vi har lige set, at</p>
<p><span class="math display">\[
\begin{aligned}
P(\textrm{fodbold}) =P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{dreng})+P(\textrm{fodbold } | \textrm{ pige})\cdot P(\textrm{pige})
\end{aligned}
\]</span></p>
<p>Fra definitionen på betinget sandsynlig (<a href="#def-betinget" class="quarto-xref">definition&nbsp;3</a>) ved vi, at</p>
<p><span class="math display">\[
P(\textrm{dreng } | \textrm{ fodbold}) = \frac{P(\textrm{fodbold} \cap \textrm{dreng})}{P(\textrm{fodbold})}
\]</span></p>
<p>Derfor får vi, at</p>
<p><span class="math display">\[
\begin{aligned}
P(\textrm{dreng } | \textrm{ fodbold}) &amp;=\frac{P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{ dreng})}{P(\textrm{fodbold } | \textrm{ dreng})\cdot P(\textrm{dreng})+P(\textrm{fodbold }| \textrm{ pige})\cdot P(\textrm{pige})}
\end{aligned}
\]</span></p>
<p>Indsætter vi de faktiske tal, får vi</p>
<p><span class="math display">\[
P(\textrm{dreng } | \textrm{ fodbold}) = \frac{60 \% \cdot 40 \%}{60 \% \cdot 40 \% + 30 \% \cdot 60 \%} \approx 57.1 \%
\]</span> hvilket stemmer med det, vi fik i <a href="#exm-eks14" class="quarto-xref">eksempel&nbsp;14</a>. Bemærk, at vi her har udregnet den betingede sandsynlighed <span class="math inline">\(P(\textrm{dreng } | \textrm{ fodbold})\)</span> <u>uden</u> at kende det faktiske antal elever. Det er nok at kende de procenter, som vi startede med i eksemplet.</p>
</div>
<section id="opgave-opdeling-og-sandsynlighed" class="level4">
<h4 class="anchored" data-anchor-id="opgave-opdeling-og-sandsynlighed">Opgave: Opdeling og sandsynlighed</h4>
<p>Du finder en opgave om opdeling og sandsynlighed her: <a href="../../undervisningsforlob/sandsynlighedsregning.html#opdeling-og-sandsynlighed">Opgave 2</a>.</p>


</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/aimat\.dk");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>